#pragma version 6
txn ApplicationID
int 0
==
bnz main_l12
txn OnCompletion
int NoOp
==
bnz main_l7
txn OnCompletion
int DeleteApplication
==
bnz main_l4
err
main_l4:
txn Sender
global CreatorAddress
==
bnz main_l6
err
main_l6:
int 1
return
main_l7:
global GroupSize
int 3
==
txna ApplicationArgs 0
byte "Create Grant Application"
==
&&
bnz main_l11
txna ApplicationArgs 0
byte "Delete Grant Application"
==
bnz main_l10
err
main_l10:
itxn_begin
int appl
itxn_field TypeEnum
txna Applications 1
itxn_field ApplicationID
int DeleteApplication
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_next
int pay
itxn_field TypeEnum
int 407000
itxn_field Amount
global CreatorAddress
itxn_field Receiver
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l11:
txn Sender
global CreatorAddress
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
gtxn 2 TypeEnum
int appl
==
assert
itxn_begin
int appl
itxn_field TypeEnum
int 3
itxn_field GlobalNumByteSlice
int 2
itxn_field GlobalNumUint
byte 0x06200201002607067374617475730872656a65637465640770656e64696e6709636f6d706c657465640b6d696c6573746f6e655f310b6d696c6573746f6e655f320f7265717565737465645f66756e647331182312400156311923124000293119810512400001003100320912320481021210286429121028642a121028642b12104000010022433204810312361a0080184368616e67652073746174757320746f20617070726f766512104000f1361a0080194368616e67652073746174757320746f2072656a6563746564124000ca3100320912361a00801645646974204772616e74204170706c69636174696f6e121040008b361a008013417070726f7665204d696c6573746f6e6520311240005a361a008013417070726f7665204d696c6573746f6e6520321240002c361a00801052656a656374204d696c6573746f6e651240000100b122b210361c01b20923b201b32829672243b122b210361c01b20923b201b3282b672243b122b210361c01b207361a0117b20823b201b3224328642a12442704361a01672705361a02672706361a03176722432829672243288008617070726f766564672243311b81041244800c6772616e745f6170705f6964361a0017672704361a01672705361a02672706361a031767282a672243
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
txna ApplicationArgs 1
itxn_field ApplicationArgs
txna ApplicationArgs 2
itxn_field ApplicationArgs
txna ApplicationArgs 3
itxn_field ApplicationArgs
txna ApplicationArgs 4
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l12:
txn NumAppArgs
int 1
==
assert
byte "usertype"
txna ApplicationArgs 0
app_global_put
int 1
return