#pragma version 6
txn ApplicationID
int 0
==
bnz main_l12
txn OnCompletion
int NoOp
==
bnz main_l7
txn OnCompletion
int DeleteApplication
==
bnz main_l4
err
main_l4:
txn Sender
global CreatorAddress
==
bnz main_l6
err
main_l6:
int 1
return
main_l7:
txna ApplicationArgs 0
byte "Create Manager"
==
bnz main_l11
txna ApplicationArgs 0
byte "Create Grant"
==
bnz main_l10
err
main_l10:
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
global CurrentApplicationAddress
acct_params_get AcctBalance
store 3
store 2
itxn_begin
int appl
itxn_field TypeEnum
int 3
itxn_field GlobalNumByteSlice
int 8
itxn_field GlobalNumUint
byte 0x062003010006260d067374617475730e6772616e745f656e645f646174650763726561746f720770656e64696e6708617070726f7665640b676976656e5f6772616e74096d696e5f6772616e74096d61785f6772616e740c746f74616c5f6275646765740872656a6563746564057469746c65086475726174696f6e0c746f74616c5f6772616e7473311823124001d23119231240001c31198105124000010031002a64124428642709124428642b124422433204810312361a00800f4170706c7920666f72206772616e74121040014e31002a6412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d031002a6412361a00801852656a656374206772616e74206170706c69636174696f6e121040008e31002a6412361a00800a45646974204772616e741210400046361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240000b28642b124428270967224328642b124428270467224328642b1244270a361a0167270b361a0217672706361a0317672707361a041767270c361a05176729361a0617672243286427041244b124b210361a0117b218361a02b21a23b201b32243286427041244361a041729640c44b124b210363201b218361a01b21a23b201b622b210361c01b207361a0217b20823b201b622b210361c02b207361a0317b20823b201b32705270564361a021708361a031708672243286427041244361a011729640c44361a021729640c44361a031729640c442708642705640d44361a02172708640e44361a02172706640f44361a02172707640e442243311b81091244270a361a0067270b361a0117672706361a0217672707361a031767270c361a0417672708361a05176729361a0617678003455347361a07176727052367282b672a361a08672243
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
txna ApplicationArgs 1
itxn_field ApplicationArgs
txna ApplicationArgs 2
itxn_field ApplicationArgs
txna ApplicationArgs 3
itxn_field ApplicationArgs
txna ApplicationArgs 4
itxn_field ApplicationArgs
txna ApplicationArgs 5
itxn_field ApplicationArgs
txna ApplicationArgs 6
itxn_field ApplicationArgs
txna ApplicationArgs 7
itxn_field ApplicationArgs
txna ApplicationArgs 8
itxn_field ApplicationArgs
global CreatorAddress
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
itxn CreatedApplicationID
app_params_get AppAddress
store 1
store 0
itxn_begin
int pay
itxn_field TypeEnum
load 0
itxn_field Receiver
txna ApplicationArgs 6
btoi
itxn_field Amount
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l11:
txn Sender
global CreatorAddress
==
assert
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
itxn_begin
int appl
itxn_field TypeEnum
int 2
itxn_field GlobalNumByteSlice
int 0
itxn_field GlobalNumUint
byte 0x0620040001020631182212400361311922124000143119810512400001003100320912400001002343361a00800c437265617465204772616e7412400001003204241244330010231244330110251244320a730035033502b125b2108103b2358108b23480af05062003010006260d067374617475730e6772616e745f656e645f646174650763726561746f720770656e64696e6708617070726f7665640b676976656e5f6772616e74096d696e5f6772616e74096d61785f6772616e740c746f74616c5f6275646765740872656a6563746564057469746c65086475726174696f6e0c746f74616c5f6772616e7473311823124001d23119231240001c31198105124000010031002a64124428642709124428642b124422433204810312361a00800f4170706c7920666f72206772616e74121040014e31002a6412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d031002a6412361a00801852656a656374206772616e74206170706c69636174696f6e121040008e31002a6412361a00800a45646974204772616e741210400046361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240000b28642b124428270967224328642b124428270467224328642b1244270a361a0167270b361a0217672706361a0317672707361a041767270c361a05176729361a0617672243286427041244b124b210361a0117b218361a02b21a23b201b32243286427041244361a041729640c44b124b210363201b218361a01b21a23b201b622b210361c01b207361a0217b20823b201b622b210361c02b207361a0317b20823b201b32705270564361a021708361a031708672243286427041244361a011729640c44361a021729640c44361a031729640c442708642705640d44361a02172708640e44361a02172706640f44361a02172707640e442243311b81091244270a361a0067270b361a0117672706361a0217672707361a031767270c361a0417672708361a05176729361a0617678003455347361a07176727052367282b672a361a08672243b21e800406810143b21f361a01b21a361a02b21a361a03b21a361a04b21a361a05b21a361a06b21a361a07b21a361a08b21a3100b21a22b21922b201b3b43d720835013500b123b2103400b207361a0617b20822b201b32343311b24124480116f7267616e69736174696f6e5f6e616d65361a006780087573657274797065361a01672343
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
byte "organisation_name"
app_global_get
itxn_field ApplicationArgs
txna ApplicationArgs 1
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l12:
txn NumAppArgs
int 3
==
assert
byte "organisation_name"
txna ApplicationArgs 0
app_global_put
byte "organisation_role"
txna ApplicationArgs 1
app_global_put
byte "usertype"
txna ApplicationArgs 2
app_global_put
int 1
return