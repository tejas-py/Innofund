#pragma version 6
txn ApplicationID
int 0
==
bnz main_l16
txn OnCompletion
int NoOp
==
bnz main_l7
txn OnCompletion
int DeleteApplication
==
bnz main_l4
err
main_l4:
txn Sender
global CreatorAddress
==
bnz main_l6
err
main_l6:
int 1
return
main_l7:
txna ApplicationArgs 0
byte "Create Manager"
==
bnz main_l15
txna ApplicationArgs 0
byte "Create Grant"
==
bnz main_l14
txna ApplicationArgs 0
byte "Delete Grant"
==
bnz main_l13
txna ApplicationArgs 0
byte "Delete Manager"
==
bnz main_l12
err
main_l12:
itxn_begin
int appl
itxn_field TypeEnum
txna Applications 1
itxn_field ApplicationID
int DeleteApplication
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_next
int pay
itxn_field TypeEnum
int 300000
itxn_field Amount
global CreatorAddress
itxn_field Receiver
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l13:
itxn_begin
int appl
itxn_field TypeEnum
txna Applications 1
itxn_field ApplicationID
int DeleteApplication
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_next
int pay
itxn_field TypeEnum
int 578000
itxn_field Amount
global CreatorAddress
itxn_field Receiver
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l14:
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
global CurrentApplicationAddress
acct_params_get AcctBalance
store 3
store 2
load 2
assert
itxn_begin
int appl
itxn_field TypeEnum
int 3
itxn_field GlobalNumByteSlice
int 8
itxn_field GlobalNumUint
byte 0x062003010006260c067374617475730e6772616e745f656e645f646174650763726561746f720770656e64696e6708617070726f7665640c746f74616c5f6275646765740b676976656e5f6772616e74096d696e5f6772616e74096d61785f6772616e74057469746c65086475726174696f6e0c746f74616c5f6772616e7473311823124001e13119231240002331198105124000010031002a641244320481021244b122b2103209b20923b201b322433204810312361a00800f4170706c7920666f72206772616e74121040015631002a6412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d8361a00801852656a656374206772616e74206170706c69636174696f6e1240009d31002a6412361a00800a45646974204772616e74121040004e361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240001328642b124428800872656a656374656467224328642b124428270467224328642b12442709361a0167270a361a0217672707361a0317672708361a041767270b361a0517672705361a06176729361a0717672243286427041244b124b210363201b218361a01b21a23b201b32243286427041244361a041729640c44b124b210363201b218361a01b21a23b201b622b210361c01b207361a0217b20823b201b622b210361c02b207361a0317b20823b201b32706270664361a021708361a031708672243286427041244361a011729640c44361a021729640c44361a031729640c442705642706640d44361a02172705640e44361a02172707640f44361a02172708640e442243311b810912442709361a0067270a361a0117672707361a0217672708361a031767270b361a0417672705361a05176729361a0617678003455347361a07176727062367282b672a361a08672243
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
txna ApplicationArgs 1
itxn_field ApplicationArgs
txna ApplicationArgs 2
itxn_field ApplicationArgs
txna ApplicationArgs 3
itxn_field ApplicationArgs
txna ApplicationArgs 4
itxn_field ApplicationArgs
txna ApplicationArgs 5
itxn_field ApplicationArgs
txna ApplicationArgs 6
itxn_field ApplicationArgs
txna ApplicationArgs 7
itxn_field ApplicationArgs
txna ApplicationArgs 8
itxn_field ApplicationArgs
global CreatorAddress
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
itxn CreatedApplicationID
app_params_get AppAddress
store 1
store 0
itxn_begin
int pay
itxn_field TypeEnum
load 0
itxn_field Receiver
txna ApplicationArgs 6
btoi
itxn_field Amount
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l15:
txn Sender
global CreatorAddress
==
assert
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
itxn_begin
int appl
itxn_field TypeEnum
int 2
itxn_field GlobalNumByteSlice
int 0
itxn_field GlobalNumUint
byte 0x0620050001060502311822124003a23119221240001331192512400001003100320912400001002343361a00800c437265617465204772616e7412400039361a00800c44656c657465204772616e741240000100b124b210363201b21825b21922b201b623b21081d0a323b2083209b20722b201b32343320421041244330010231244330110241244320a730035033502340244b124b2108103b2358108b23480b505062003010006260c067374617475730e6772616e745f656e645f646174650763726561746f720770656e64696e6708617070726f7665640c746f74616c5f6275646765740b676976656e5f6772616e74096d696e5f6772616e74096d61785f6772616e74057469746c65086475726174696f6e0c746f74616c5f6772616e7473311823124001e13119231240002331198105124000010031002a641244320481021244b122b2103209b20923b201b322433204810312361a00800f4170706c7920666f72206772616e74121040015631002a6412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d8361a00801852656a656374206772616e74206170706c69636174696f6e1240009d31002a6412361a00800a45646974204772616e74121040004e361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240001328642b124428800872656a656374656467224328642b124428270467224328642b12442709361a0167270a361a0217672707361a0317672708361a041767270b361a0517672705361a06176729361a0717672243286427041244b124b210363201b218361a01b21a23b201b32243286427041244361a041729640c44b124b210363201b218361a01b21a23b201b622b210361c01b207361a0217b20823b201b622b210361c02b207361a0317b20823b201b32706270664361a021708361a031708672243286427041244361a011729640c44361a021729640c44361a031729640c442705642706640d44361a02172705640e44361a02172707640f44361a02172708640e442243311b810912442709361a0067270a361a0117672707361a0217672708361a031767270b361a0417672705361a05176729361a0617678003455347361a07176727062367282b672a361a08672243b21e800406810143b21f361a01b21a361a02b21a361a03b21a361a04b21a361a05b21a361a06b21a361a07b21a361a08b21a3100b21a22b21922b201b3b43d720835013500b123b2103400b207361a0617b20822b201b32343311b2104124480116f7267616e69736174696f6e5f6e616d65361a006780087573657274797065361a01672343
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
byte "organisation_name"
app_global_get
itxn_field ApplicationArgs
txna ApplicationArgs 1
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l16:
txn NumAppArgs
int 3
==
assert
byte "organisation_name"
txna ApplicationArgs 0
app_global_put
byte "organisation_role"
txna ApplicationArgs 1
app_global_put
byte "usertype"
txna ApplicationArgs 2
app_global_put
int 1
return