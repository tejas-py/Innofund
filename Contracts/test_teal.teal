#pragma version 6
txn ApplicationID
int 0
==
bnz main_l12
txn OnCompletion
int NoOp
==
bnz main_l7
txn OnCompletion
int DeleteApplication
==
bnz main_l4
err
main_l4:
txn Sender
global CreatorAddress
==
bnz main_l6
err
main_l6:
int 1
return
main_l7:
txn Sender
global CreatorAddress
==
txna ApplicationArgs 0
byte "Create Manager"
==
&&
bnz main_l11
txn Sender
global CreatorAddress
==
txna ApplicationArgs 0
byte "Create Grant"
==
&&
bnz main_l10
err
main_l10:
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
global CurrentApplicationAddress
acct_params_get AcctBalance
store 3
store 2
itxn_begin
int appl
itxn_field TypeEnum
int 3
itxn_field GlobalNumByteSlice
int 8
itxn_field GlobalNumUint
byte 0x062003010006260d067374617475730763726561746f720770656e64696e67096d696e5f6772616e740e6772616e745f656e645f6461746508617070726f766564096d61785f6772616e740b676976656e5f6772616e74086475726174696f6e0c746f74616c5f6772616e74730c746f74616c5f6275646765740872656a6563746564057469746c65311823124001dd3119231240002b3119810512400001003100296412442864270b124428642a124428648009636f6d706c65746564124422433204810312361a00800f4170706c7920666f72206772616e74121040014b3100296412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d03100296412361a00801852656a656374206772616e74206170706c69636174696f6e121040008e3100296412361a00800a45646974204772616e741210400046361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240000b28642a124428270b67224328642a124428270567224328642a1244270c361a01672708361a0217672b361a0317672706361a0417672709361a0517672704361a0617672243286427051244b124b210361a0117b218361a02b21a23b201b32243286427051244361a05172704640c44b124b210361a0117b218361a02b21a23b201b622b210361c01b207361a0317b20823b201b622b210361c02b207361a0417b20823b201b32707270764361a031708672243330010221244330110241244330210241244286427051244361a0117350134012704640c44270a642707640d44361a0217350034002b640f4434002706640e442243311b81091244270c361a00672708361a0117672b361a0217672706361a0317672709361a041767270a361a0517672704361a0617678003455347361a07176727072367282a6729361a0867270864230d44270964230d44270a642b640d442706642b640d4427046481fd9aee9a060d442243
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
txna ApplicationArgs 1
itxn_field ApplicationArgs
txna ApplicationArgs 2
itxn_field ApplicationArgs
txna ApplicationArgs 3
itxn_field ApplicationArgs
txna ApplicationArgs 4
itxn_field ApplicationArgs
txna ApplicationArgs 5
itxn_field ApplicationArgs
txna ApplicationArgs 6
itxn_field ApplicationArgs
txna ApplicationArgs 7
itxn_field ApplicationArgs
txna ApplicationArgs 8
itxn_field ApplicationArgs
txn Sender
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
itxn CreatedApplicationID
app_params_get AppAddress
store 1
store 0
itxn_begin
int pay
itxn_field TypeEnum
load 0
itxn_field Receiver
txna ApplicationArgs 8
btoi
itxn_field Amount
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l11:
txn Sender
global CreatorAddress
==
assert
global GroupSize
int 2
==
assert
gtxn 0 TypeEnum
int pay
==
assert
gtxn 1 TypeEnum
int appl
==
assert
itxn_begin
int appl
itxn_field TypeEnum
int 2
itxn_field GlobalNumByteSlice
int 0
itxn_field GlobalNumUint
byte 0x06200400010206311822124003973119221240001431198105124000010031003209124000010023433100320912361a00800c437265617465204772616e741210400001003204241244330010231244330110251244320a730035033502b125b2108103b2358108b23480df05062003010006260d067374617475730763726561746f720770656e64696e67096d696e5f6772616e740e6772616e745f656e645f6461746508617070726f766564096d61785f6772616e740b676976656e5f6772616e74086475726174696f6e0c746f74616c5f6772616e74730c746f74616c5f6275646765740872656a6563746564057469746c65311823124001dd3119231240002b3119810512400001003100296412442864270b124428642a124428648009636f6d706c65746564124422433204810312361a00800f4170706c7920666f72206772616e74121040014b3100296412361a008019417070726f7665206772616e74206170706c69636174696f6e12104000d03100296412361a00801852656a656374206772616e74206170706c69636174696f6e121040008e3100296412361a00800a45646974204772616e741210400046361a00801d417070726f76652f52656a656374204772616e742062792041646d696e1240000100361a0117221240000b28642a124428270b67224328642a124428270567224328642a1244270c361a01672708361a0217672b361a0317672706361a0417672709361a0517672704361a0617672243286427051244b124b210361a0117b218361a02b21a23b201b32243286427051244361a05172704640c44b124b210361a0117b218361a02b21a23b201b622b210361c01b207361a0317b20823b201b622b210361c02b207361a0417b20823b201b32707270764361a031708672243330010221244330110241244330210241244286427051244361a0117350134012704640c44270a642707640d44361a0217350034002b640f4434002706640e442243311b81091244270c361a00672708361a0117672b361a0217672706361a0317672709361a041767270a361a0517672704361a0617678003455347361a07176727072367282a6729361a0867270864230d44270964230d44270a642b640d442706642b640d4427046481fa9aee9a060d442243b21e800406810143b21f361a01b21a361a02b21a361a03b21a361a04b21a361a05b21a361a06b21a361a07b21a361a08b21a3100b21a22b21922b201b3b43d720835013500b123b2103400b207361a0817b20822b201b32343311b24124480116f7267616e69736174696f6e5f6e616d65361a006780087573657274797065361a01672343
itxn_field ApprovalProgram
byte 0x06810143
itxn_field ClearStateProgram
byte "organisation_name"
app_global_get
itxn_field ApplicationArgs
txna ApplicationArgs 1
itxn_field ApplicationArgs
int NoOp
itxn_field OnCompletion
int 0
itxn_field Fee
itxn_submit
int 1
return
main_l12:
txn NumAppArgs
int 3
==
assert
byte "organisation_name"
txna ApplicationArgs 0
app_global_put
byte "organisation_role"
txna ApplicationArgs 1
app_global_put
byte "usertype"
txna ApplicationArgs 2
app_global_put
int 1
return